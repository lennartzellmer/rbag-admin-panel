{
  "version": 4,
  "terraform_version": "1.5.7",
  "serial": 11,
  "lineage": "539612af-df57-d039-fc0c-e658484d3cce",
  "outputs": {
    "zitadel_backend_pat": {
      "value": "DZQEKNXIM0FkLUN7pWu4qwVq97LDFLOLomfxpRPcO2cmu4VcweSoJqST_wWHdwppHzix3cM",
      "type": "string",
      "sensitive": true
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "zitadel_action",
      "name": "flat_roles",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_to_fail": false,
            "id": "351580576077053956",
            "name": "flatRoles",
            "org_id": "351580576010010628",
            "script": "function flatRoles(ctx, api) {\n  if (ctx.v1.user.grants == undefined || ctx.v1.user.grants.count == 0) {\n    return;\n  }\n\n  const roleSet = new Set();\n  ctx.v1.user.grants.grants.forEach(claim =\u003e {\n    claim.roles.forEach(role =\u003e {\n      roleSet.add(role);\n    });\n  });\n\n  api.v1.claims.setClaim('roles', Array.from(roleSet));\n}\nfunction flatRoles(ctx, api) {\n  if (ctx.v1.user.grants == undefined || ctx.v1.user.grants.count == 0) {\n    return;\n  }\n\n  const roleSet = new Set();\n  ctx.v1.user.grants.grants.forEach(claim =\u003e {\n    claim.roles.forEach(role =\u003e {\n      roleSet.add(role);\n    });\n  });\n\n  api.v1.claims.setClaim('roles', Array.from(roleSet));\n}\n",
            "state": null,
            "timeout": "10s"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "zitadel_org.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_application_oidc",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_token_role_assertion": true,
            "access_token_type": "OIDC_TOKEN_TYPE_BEARER",
            "additional_origins": [],
            "app_type": "OIDC_APP_TYPE_WEB",
            "auth_method_type": "OIDC_AUTH_METHOD_TYPE_NONE",
            "client_id": "351580576110673924",
            "client_secret": "",
            "clock_skew": "0s",
            "dev_mode": true,
            "grant_types": [
              "OIDC_GRANT_TYPE_AUTHORIZATION_CODE",
              "OIDC_GRANT_TYPE_REFRESH_TOKEN"
            ],
            "id": "351580576110608388",
            "id_token_role_assertion": true,
            "id_token_userinfo_assertion": true,
            "name": "Webapp",
            "org_id": "351580576010010628",
            "post_logout_redirect_uris": [
              "https://localhost:3001"
            ],
            "project_id": "351580576060342276",
            "redirect_uris": [
              "http://localhost:3001/api/auth/zitadel"
            ],
            "response_types": [
              "OIDC_RESPONSE_TYPE_CODE"
            ],
            "skip_native_app_success_page": null,
            "version": "OIDC_VERSION_1_0"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "zitadel_org.default",
            "zitadel_project.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_machine_user",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_token_type": "ACCESS_TOKEN_TYPE_BEARER",
            "client_id": null,
            "client_secret": null,
            "description": "A backend user for the Anmeldesystem",
            "id": "351580576060276740",
            "login_names": [
              "anmeldesystem-backend"
            ],
            "name": "Anmeldesystem Backend",
            "org_id": "351580576010010628",
            "preferred_login_name": "anmeldesystem-backend",
            "state": "USER_STATE_ACTIVE",
            "user_name": "anmeldesystem-backend",
            "with_secret": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "zitadel_org.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_org",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "351580576010010628",
            "is_default": null,
            "name": "Hauptorganisation",
            "primary_domain": null,
            "state": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_personal_access_token",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "expiration_date": null,
            "id": "351580576127385604",
            "org_id": "351580576010010628",
            "token": "DZQEKNXIM0FkLUN7pWu4qwVq97LDFLOLomfxpRPcO2cmu4VcweSoJqST_wWHdwppHzix3cM",
            "user_id": "351580576060276740"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "zitadel_machine_user.default",
            "zitadel_org.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_project",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "has_project_check": false,
            "id": "351580576060342276",
            "name": "Anmeldesystem",
            "org_id": "351580576010010628",
            "private_labeling_setting": "PRIVATE_LABELING_SETTING_UNSPECIFIED",
            "project_role_assertion": true,
            "project_role_check": false,
            "state": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "zitadel_org.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_project_role",
      "name": "admin",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "display_name": "Admin",
            "group": "admin",
            "id": "351580576010010628_351580576060342276_admin",
            "org_id": "351580576010010628",
            "project_id": "351580576060342276",
            "role_key": "admin"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "zitadel_org.default",
            "zitadel_project.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_project_role",
      "name": "user",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "display_name": "User",
            "group": "user",
            "id": "351580576010010628_351580576060342276_user",
            "org_id": "351580576010010628",
            "project_id": "351580576060342276",
            "role_key": "user"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "zitadel_org.default",
            "zitadel_project.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_smtp_config",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "host": "mailcatcher:1025",
            "id": "351580576009945092",
            "password": "",
            "reply_to_address": "replyto@example.com",
            "sender_address": "sender@example.com",
            "sender_name": "no-reply",
            "set_active": true,
            "tls": false,
            "user": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "zitadel_trigger_actions",
      "name": "flat_roles",
      "provider": "provider[\"registry.terraform.io/zitadel/zitadel\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action_ids": [
              "351580576077053956"
            ],
            "flow_type": "FLOW_TYPE_CUSTOMISE_TOKEN",
            "id": "351580576010010628_FLOW_TYPE_CUSTOMISE_TOKEN_TRIGGER_TYPE_PRE_USERINFO_CREATION",
            "org_id": "351580576010010628",
            "trigger_type": "TRIGGER_TYPE_PRE_USERINFO_CREATION"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "zitadel_action.flat_roles",
            "zitadel_org.default"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
